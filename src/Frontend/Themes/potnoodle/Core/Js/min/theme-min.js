function onePageScroll(e,n){var t={sectionContainer:"section",easing:"ease",animationTime:1e3,pagination:!0,updateURL:!1,keyboard:!0,beforeMove:null,afterMove:null,loop:!1,responsiveFallback:!1},a=this,i=Object.extend({},t,n),o=document.querySelector(e),s=document.querySelectorAll(i.sectionContainer),r=s.length,l="off",c=0,d=0,m=500,u="",v=document.querySelector("body");this.init=function(){_addClass(o,"onepage-wrapper"),o.style.position="relative";for(var e=0;e<s.length;e++)_addClass(s[e],"ops-section"),s[e].dataset.index=e+1,c+=100,1==i.pagination&&(u+="<li><a data-index='"+(e+1)+"' href='#"+(e+1)+"'></a></li>");if(_swipeEvents(o),document.addEventListener("swipeDown",function(e){_hasClass(v,"disabled-onepage-scroll")||e.preventDefault(),moveUp(o)}),document.addEventListener("swipeUp",function(e){_hasClass(v,"disabled-onepage-scroll")||e.preventDefault(),moveDown(o)}),1==i.pagination){var n=document.createElement("ul");n.setAttribute("class","onepage-pagination"),v.appendChild(n),n.innerHTML=u;var t=document.querySelector(".onepage-pagination").offsetHeight/2*-1;document.querySelector(".onepage-pagination").style.marginTop=t}if(""!=window.location.hash&&"#1"!=window.location.hash){var a=window.location.hash.replace("#",""),r=document.querySelector(i.sectionContainer+"[data-index='"+a+"']"),l=r.dataset.index;if(_addClass(document.querySelector(i.sectionContainer+"[data-index='"+a+"']"),"active"),_addClass(v,"viewing-page-"+a),1==i.pagination&&_addClass(document.querySelector(".onepage-pagination li a[data-index='"+a+"']"),"active"),r&&(_addClass(r,"active"),1==i.pagination&&_addClass(document.querySelector(".onepage-pagination li a[data-index='"+a+"']"),"active"),v.className=v.className.replace(/\bviewing-page-\d.*?\b/g,""),_addClass(v,"viewing-page-"+l),history.replaceState&&1==i.updateURL)){var d=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+a;history.pushState({},document.title,d)}var m=100*(a-1)*-1;_transformPage(o,i,m,a)}else _addClass(document.querySelector(i.sectionContainer+"[data-index='1']"),"active"),_addClass(v,"viewing-page-1"),1==i.pagination&&_addClass(document.querySelector(".onepage-pagination li a[data-index='1']"),"active");if(_paginationHandler=function(){var e=this.dataset.index;moveTo(o,e)},1==i.pagination)for(var p=document.querySelectorAll(".onepage-pagination li a"),e=0;e<p.length;e++)p[e].addEventListener("click",_paginationHandler);return _mouseWheelHandler=function(e){e.preventDefault();var n=e.wheelDelta||-e.detail;_hasClass(v,"disabled-onepage-scroll")||_init_scroll(e,n)},document.addEventListener("mousewheel",_mouseWheelHandler),document.addEventListener("DOMMouseScroll",_mouseWheelHandler),0!=i.responsiveFallback&&(window.onresize=function(){_responsive()},_responsive()),_keydownHandler=function(e){var n=e.target.tagName.toLowerCase();if(!_hasClass(v,"disabled-onepage-scroll"))switch(e.which){case 38:"input"!=n&&"textarea"!=n&&moveUp(o);break;case 40:"input"!=n&&"textarea"!=n&&moveDown(o);break;default:return}return!1},1==i.keyboard&&(document.onkeydown=_keydownHandler),!1},_swipeEvents=function(e){function n(e){var n=e.touches;n&&n.length&&(a=n[0].pageX,i=n[0].pageY,document.addEventListener("touchmove",t))}function t(e){var n=e.touches;if(n&&n.length){e.preventDefault();var o=a-n[0].pageX,s=i-n[0].pageY;if(o>=50){var e=new Event("swipeLeft");document.dispatchEvent(e)}if(-50>=o){var e=new Event("swipeRight");document.dispatchEvent(e)}if(s>=50){var e=new Event("swipeUp");document.dispatchEvent(e)}if(-50>=s){var e=new Event("swipeDown");document.dispatchEvent(e)}(Math.abs(o)>=50||Math.abs(s)>=50)&&document.removeEventListener("touchmove",t)}}var a,i;document.addEventListener("touchstart",n)},_trim=function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_hasClass=function(e,n){return e.className?e.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)")):e.className=n},_addClass=function(e,n){_hasClass(e,n)||(e.className+=" "+n),e.className=_trim(e.className)},_removeClass=function(e,n){if(_hasClass(e,n)){var t=new RegExp("(\\s|^)"+n+"(\\s|$)");e.className=e.className.replace(t," ")}e.className=_trim(e.className)},_whichTransitionEvent=function(){var e,n=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in t)if(void 0!==n.style[e])return t[e]},_scrollTo=function(e,n,t){if(!(0>t)){var a=n-e.scrollTop,i=a/t*10;setTimeout(function(){e.scrollTop=e.scrollTop+i,e.scrollTop!=n&&_scrollTo(e,n,t-10)},10)}},_transformPage=function(e,n,t,a,i){function o(){"function"==typeof n.afterMove&&n.afterMove(a,i),e.removeEventListener(r,o)}"function"==typeof n.beforeMove&&n.beforeMove(a,i);var s="-webkit-transform: translate3d(0, "+t+"%, 0); -webkit-transition: -webkit-transform "+n.animationTime+"ms "+n.easing+"; -moz-transform: translate3d(0, "+t+"%, 0); -moz-transition: -moz-transform "+n.animationTime+"ms "+n.easing+"; -ms-transform: translate3d(0, "+t+"%, 0); -ms-transition: -ms-transform "+n.animationTime+"ms "+n.easing+"; transform: translate3d(0, "+t+"%, 0); transition: transform "+n.animationTime+"ms "+n.easing+";";e.style.cssText=s;var r=_whichTransitionEvent();e.addEventListener(r,o,!1)},_responsive=function(){document.body.clientWidth<i.responsiveFallback?(_addClass(v,"disabled-onepage-scroll"),document.removeEventListener("mousewheel",_mouseWheelHandler),document.removeEventListener("DOMMouseScroll",_mouseWheelHandler),_swipeEvents(o),document.removeEventListener("swipeDown"),document.removeEventListener("swipeUp")):(_hasClass(v,"disabled-onepage-scroll")&&(_removeClass(v,"disabled-onepage-scroll"),_scrollTo(document.documentElement,0,2e3)),_swipeEvents(o),document.addEventListener("swipeDown",function(e){_hasClass(v,"disabled-onepage-scroll")||e.preventDefault(),moveUp(o)}),document.addEventListener("swipeUp",function(e){_hasClass(v,"disabled-onepage-scroll")||e.preventDefault(),moveDown(o)}),document.addEventListener("mousewheel",_mouseWheelHandler),document.addEventListener("DOMMouseScroll",_mouseWheelHandler))},_init_scroll=function(e,n){var t=n,a=(new Date).getTime();return a-d<m+i.animationTime?void e.preventDefault():(0>t?moveDown(o):moveUp(o),void(d=a))},this.moveDown=function(e){"string"==typeof e&&(e=document.querySelector(e));var n=document.querySelector(i.sectionContainer+".active").dataset.index,t=document.querySelector(i.sectionContainer+"[data-index='"+n+"']"),a=document.querySelector(i.sectionContainer+"[data-index='"+(parseInt(n)+1)+"']");if(a)pos=100*n*-1;else{if(1!=i.loop)return;pos=0,a=document.querySelector(i.sectionContainer+"[data-index='1']")}var o=a.dataset.index;if(_removeClass(t,"active"),_addClass(a,"active"),1==i.pagination&&(_removeClass(document.querySelector(".onepage-pagination li a[data-index='"+n+"']"),"active"),_addClass(document.querySelector(".onepage-pagination li a[data-index='"+o+"']"),"active")),v.className=v.className.replace(/\bviewing-page-\d.*?\b/g,""),_addClass(v,"viewing-page-"+o),history.replaceState&&1==i.updateURL){var s=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(parseInt(n)+1);history.pushState({},document.title,s)}_transformPage(e,i,pos,o,a)},this.moveUp=function(e){"string"==typeof e&&(e=document.querySelector(e));var n=document.querySelector(i.sectionContainer+".active").dataset.index,t=document.querySelector(i.sectionContainer+"[data-index='"+n+"']"),a=document.querySelector(i.sectionContainer+"[data-index='"+(parseInt(n)-1)+"']");if(a)pos=100*(a.dataset.index-1)*-1;else{if(1!=i.loop)return;pos=100*(r-1)*-1,a=document.querySelector(i.sectionContainer+"[data-index='"+r+"']")}var o=a.dataset.index;if(_removeClass(t,"active"),_addClass(a,"active"),1==i.pagination&&(_removeClass(document.querySelector(".onepage-pagination li a[data-index='"+n+"']"),"active"),_addClass(document.querySelector(".onepage-pagination li a[data-index='"+o+"']"),"active")),v.className=v.className.replace(/\bviewing-page-\d.*?\b/g,""),_addClass(v,"viewing-page-"+o),history.replaceState&&1==i.updateURL){var s=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(parseInt(n)-1);history.pushState({},document.title,s)}_transformPage(e,i,pos,o,a)},this.moveTo=function(e,n){"string"==typeof e&&(e=document.querySelector(e));var t=document.querySelector(i.sectionContainer+".active"),a=document.querySelector(i.sectionContainer+"[data-index='"+n+"']");if(a){var o=a.dataset.index;if(_removeClass(t,"active"),_addClass(a,"active"),_removeClass(document.querySelector(".onepage-pagination li a.active"),"active"),_addClass(document.querySelector(".onepage-pagination li a[data-index='"+n+"']"),"active"),v.className=v.className.replace(/\bviewing-page-\d.*?\b/g,""),_addClass(v,"viewing-page-"+o),pos=100*(n-1)*-1,history.replaceState&&1==i.updateURL){var s=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(parseInt(n)-1);history.pushState({},document.title,s)}_transformPage(e,i,pos,n,a)}},this.init()}var jsTheme={init:function(){jsTheme.forms.init(),jsTheme.catNav.init(),jsTheme.selectNav.init()}};jsTheme.forms={init:function(){$(".alert-box").on("click",function(e){e.preventDefault(),$(this).closest(".alert-box").fadeOut(300)})}},jsTheme.catNav={init:function(){var e=window.location.pathname,n=e.substring(e.lastIndexOf("/")+1);$(".immo-nav li a").each(function(){var e=this.href.substring(this.href.lastIndexOf("/")+1);n===e&&$(this).parent().addClass("selected")})}},jsTheme.selectNav={init:function(){var e=window.location.pathname,n=e.substring(e.lastIndexOf("/")+1);$("#selector2 li a").each(function(){var e=this.href.substring(this.href.lastIndexOf("/")+1);n===e&&$(this).parent().addClass("selected")})}},$(jsTheme.init);var pixelRatio=window.devicePixelRatio?window.devicePixelRatio:1;$(window).on("load",function(){pixelRatio>1&&$(".retina").each(function(){$(this).attr("src",$(this).attr("src").replace(".","@2x."))}),$(".main-text .text").addClass("row"),$("#main-header-image3 img:not(:first)").remove(),$("#flexslider-main img:not(:first)").remove(),$(".main-nav").hide(),$(".main-nav-trigger").on("click",function(){$(".main-nav").toggle()}),$(function(){var e=window.location.pathname,n=e.substring(0,28);"/fr/postes"===e?$(function(){var e=document.getElementsByClassName("mail-btn-link");[].slice.call(e).forEach(function(e){e.innerHTML="Appliquer maintenant"})}):"/fr/l-entreprise/immo"===e?$(function(){var e=document.getElementsByClassName("immo-btn-link");[].slice.call(e).forEach(function(e){e.innerHTML="Plus d'info"})}):"/fr/l-entreprise/immo/detail"===n?$(function(){var e=document.getElementsByClassName("mail-btn-link");[].slice.call(e).forEach(function(e){e.innerHTML="Demander un devis"})}):"/en/jobs"===e?$(function(){var e=document.getElementsByClassName("mail-btn-link");[].slice.call(e).forEach(function(e){e.innerHTML="Apply now"})}):"/en/the-company/immo"===e?$(function(){var e=document.getElementsByClassName("immo-btn-link");[].slice.call(e).forEach(function(e){e.innerHTML="More information"})}):"/en/the-company/immo/detail/"===n&&$(function(){console.log(n);var e=document.getElementsByClassName("mail-btn-link");[].slice.call(e).forEach(function(e){e.innerHTML="Request a quote"})})}),$(".flexslider ul li img").click(function(){var e=$(this).attr("src");$("#flexslider-main img").attr("src",e)})}),Object.extend=function(e){if(null==e)return e;for(var n=1;n<arguments.length;n++){var t=arguments[n];if(null!=t)for(var a in t){var i=t.__lookupGetter__(a),o=t.__lookupSetter__(a);i||o?(i&&e.__defineGetter__(a,i),o&&e.__defineSetter__(a,o)):e[a]=t[a]}}return e};